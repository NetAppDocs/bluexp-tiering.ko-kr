---
sidebar: sidebar 
permalink: concept-cloud-tiering.html 
keywords: cloud tiering, overview, conceptual, value, features, cost, charging, tiering policies, cooling period, fabricpool 
summary: NetApp의 Cloud Tiering 서비스는 비활성 데이터를 사내 ONTAP 클러스터에서 오브젝트 스토리지로 자동으로 계층화하여 데이터 센터를 클라우드로 확장합니다. 따라서 애플리케이션 계층을 변경하지 않고 클러스터에서 귀중한 공간을 확보하여 더 많은 워크로드를 사용할 수 있습니다. Cloud Tiering을 사용하면 데이터 센터의 비용을 절감하고 자본 지출 모델에서 운영 비용 모델로 전환할 수 있습니다. 
---
= Cloud Tiering에 대해 알아보십시오
:hardbreaks:
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
NetApp의 Cloud Tiering 서비스는 비활성 데이터를 사내 ONTAP 클러스터에서 오브젝트 스토리지로 자동으로 계층화하여 데이터 센터를 클라우드로 확장합니다. 따라서 애플리케이션 계층을 변경하지 않고 클러스터에서 귀중한 공간을 확보하여 더 많은 워크로드를 사용할 수 있습니다. Cloud Tiering을 사용하면 데이터 센터의 비용을 절감하고 자본 지출 모델에서 운영 비용 모델로 전환할 수 있습니다.

Cloud Tiering 서비스는 _FabricPool_의 기능을 활용합니다. FabricPool는 데이터를 저비용 오브젝트 스토리지로 자동 계층화하는 NetApp Data Fabric 기술입니다. 활성(핫) 데이터는 로컬 계층(사내 ONTAP 애그리게이트)에 남아 있고 비활성(콜드) 데이터는 클라우드 계층으로 이동되며 ONTAP 데이터 효율성은 그대로 유지됩니다.

* 참고: * ONTAP 9.8부터 HDD로 구성된 애그리게이트 데이터와 고성능 SSD를 함께 계층화할 수 있습니다. 이 릴리즈 이전에는 All-SSD 애그리게이트를 사용하는 AFF 시스템 또는 FAS 시스템에서만 데이터를 계층화할 수 있었습니다. 을 참조하십시오 https://docs.netapp.com/ontap-9/topic/com.netapp.doc.dot-mgng-stor-tier-fp/GUID-8E421CC9-1DE1-492F-A84C-9EB1B0177807.html["FabricPool 사용에 대한 요구 사항"^] 를 참조하십시오.



== 피처

Cloud Tiering은 자동화, 모니터링, 보고서 및 공통 관리 인터페이스를 제공합니다.

* 자동화를 통해 사내 ONTAP 클러스터에서 클라우드로 데이터 계층화를 간편하게 설정 및 관리할 수 있습니다
* 기본 클라우드 공급자 스토리지 클래스/액세스 계층을 선택하거나, 수명 주기 관리를 사용하여 오래된 계층적 데이터를 보다 비용 효율적인 계층으로 이동할 수 있습니다
* 단일 창을 통해 여러 클러스터에서 FabricPool를 독립적으로 관리할 필요가 없습니다
* 보고서에는 각 클러스터에서 활성 및 비활성 데이터의 양이 표시됩니다
* 계층화 상태는 문제가 발생할 때 이를 식별하고 해결하는 데 도움이 됩니다
* Cloud Volumes ONTAP 시스템이 있는 경우 클러스터 대시보드에서 하이브리드 클라우드 인프라의 데이터 계층화를 완전히 파악할 수 있습니다


Cloud Tiering이 제공하는 가치에 대해 자세히 알아보려면 https://cloud.netapp.com/cloud-tiering["NetApp Cloud Central에서 Cloud Tiering 페이지를 확인하십시오"^].


TIP: Cloud Volumes ONTAP 시스템은 Cloud Tiering에서 읽기 전용입니다. https://docs.netapp.com/us-en/cloud-manager-cloud-volumes-ontap/task-tiering.html["Cloud Volumes ONTAP의 작업 환경에서 Cloud Manager의 계층화를 설정합니다"^].



== 지원되는 오브젝트 스토리지 공급자

비활성 데이터를 사내 ONTAP 클러스터에서 다음 오브젝트 스토리지 공급자로 계층화할 수 있습니다.

* Amazon S3
* Microsoft Azure Blob
* Google 클라우드 스토리지
* S3 호환 오브젝트 스토리지
* NetApp StorageGRID를 참조하십시오



NOTE: NAS 볼륨의 데이터를 퍼블릭 클라우드 또는 StorageGRID와 같은 프라이빗 클라우드로 계층화할 수 있습니다. SAN 프로토콜에서 액세스하는 데이터를 계층화할 경우 연결 고려사항으로 인해 프라이빗 클라우드를 사용하는 것이 좋습니다.



=== 오브젝트 스토리지 계층

각 ONTAP 클러스터는 비활성 데이터를 단일 오브젝트 저장소에 계층화합니다. 데이터 계층화를 설정할 때는 스토리지 클래스 또는 액세스 계층과 함께 새 버킷/컨테이너를 추가하거나 기존 버킷/컨테이너를 선택할 수 있습니다.

* link:reference-aws-support.html["지원되는 AWS S3 스토리지 클래스에 대해 알아보십시오"]
* link:reference-azure-support.html["지원되는 Azure Blob 액세스 계층에 대해 자세히 알아보십시오"]
* link:reference-google-support.html["지원되는 Google Cloud 스토리지 클래스에 대해 알아보십시오"]


Cloud Tiering은 비활성 데이터에 클라우드 공급자의 기본 스토리지 클래스/액세스 계층을 사용합니다. 그러나 일정 일 후에 기본 스토리지 클래스에서 다른 스토리지 클래스로 데이터가 자동으로 전환되도록 수명주기 규칙을 적용할 수 있습니다. 따라서 매우 낮은 콜드 데이터를 저렴한 스토리지로 이동하여 비용을 절감할 수 있습니다.


NOTE: StorageGRID 또는 S3 호환 스토리지로 계층화된 데이터에 대한 라이프사이클 규칙을 선택할 수 없습니다.



== 가격 및 라이센스

사용한 만큼만 지불하는 구독, 자체 Cloud Tiering 라이센스 또는 이 둘을 함께 사용하면 Cloud Tiering을 결제할 수 있습니다. 라이센스가 없는 경우 첫 번째 클러스터에 대해 30일 무료 평가판을 사용할 수 있습니다.

데이터를 StorageGRID로 계층화할 경우 비용이 발생하지 않습니다. BYOL 라이센스 또는 PAYGO 등록이 필요하지 않습니다.

https://cloud.netapp.com/cloud-tiering["가격 세부 정보를 봅니다"^].



=== 30일 무료 평가판

Cloud Tiering 라이센스가 없는 경우 첫 번째 클러스터에 계층화를 설정할 때 Cloud Tiering의 30일 무료 평가판이 시작됩니다. 30일 무료 평가판 사용 기간이 끝나면 용량제 구독, BYOL 라이센스 또는 이 두 가지를 결합하여 Cloud Tiering에 대한 비용을 지불해야 합니다.

무료 평가판이 끝나고 라이센스를 구독하거나 추가하지 않은 경우 ONTAP는 콜드 데이터를 오브젝트 스토리지에 더 이상 계층화하지 않지만 기존 데이터를 계속 액세스할 수 있습니다.



=== 용량제 구독

Cloud Tiering은 종량제 모델로 소비 기반 라이센스를 제공합니다. 클라우드 공급자의 마켓플레이스를 통해 구독한 후에는 계층화된 데이터의 GB당 요금을 지불해야 합니다. 선불금은 없습니다. 클라우드 공급자가 월별 요금을 청구합니다.

무료 평가판을 가지고 있거나 BYOL(Bring Your Own License)을 사용하는 경우에도 가입해야 합니다.

* 구독하면 무료 평가판이 종료된 후에도 서비스가 중단되지 않습니다.
+
평가판이 종료되면 계층별 데이터 양에 따라 매시간 요금이 부과됩니다.

* BYOL 라이센스에서 허용하는 것보다 더 많은 데이터를 계층화하는 경우 데이터 계층화는 용량제 구독을 통해 계속 유지됩니다.
+
예를 들어, 10TB 라이센스가 있는 경우 10TB 이상의 모든 용량은 선불 종량제 구독을 통해 부과됩니다.



무료 평가판 사용 중 또는 Cloud Tiering BYOL 라이센스를 초과하지 않는 경우 용량제 구독을 통해 요금이 부과되지 않습니다.

link:task-licensing-cloud-tiering.html#Use-a-cloud-tiering-paygo-subscription["선불 종량제 구독을 설정하는 방법을 알아보십시오"].



=== 각자 보유한 라이센스를 가지고 오시기 바랍니다

NetApp에서 * Cloud Tiering * 라이센스를 구입하여 자체 라이센스를 구입하십시오. 2개월, 12개월, 24개월 또는 36개월 기간 동안 라이센스를 구입하고 계층화 용량을 지정할 수 있습니다. BYOL Cloud Tiering 라이센스는 여러 사내 ONTAP 클러스터에서 사용할 수 있는 _floating_license입니다. Cloud Tiering 라이센스에 정의한 전체 계층화 용량을 모든 사내 클러스터에서 사용할 수 있습니다.

Cloud Tiering 라이센스를 구입한 후에는 Cloud Manager의 Digital Wallet 페이지를 사용하여 라이센스를 추가해야 합니다. link:task-licensing-cloud-tiering.html#use-a-cloud-tiering-byol-license["Cloud Tiering BYOL 라이센스 사용 방법에 대해 알아보십시오"].

앞서 설명한 것처럼 BYOL 라이센스를 구입한 경우에도 사용한 만큼만 지불하는 구독을 설정하는 것이 좋습니다.


NOTE: 2021년 8월부터 기존 * FabricPool * 라이센스가 * Cloud Tiering * 라이센스로 대체되었습니다. link:task-licensing-cloud-tiering.html#new-cloud-tiering-byol-licensing-starting-august-21-2021["Cloud Tiering 라이센스가 FabricPool 라이센스와 어떻게 다른지 자세히 알아보십시오"].



== Cloud Tiering의 작동 방식

Cloud Tiering은 FabricPool 기술을 사용하여 사내 ONTAP 클러스터에서 비활성(콜드) 데이터를 퍼블릭 클라우드 또는 프라이빗 클라우드의 오브젝트 스토리지로 자동으로 계층화해주는 NetApp 관리 서비스입니다. ONTAP에 대한 연결은 커넥터로부터 연결됩니다.

다음 이미지는 각 구성 요소 간의 관계를 보여줍니다.

image:diagram_cloud_tiering.png["클라우드 공급자의 커넥터에 연결되는 Cloud Tiering 서비스, ONTAP 클러스터에 대한 연결을 지원하는 커넥터, 클라우드 공급자의 ONTAP 클러스터와 오브젝트 스토리지 간 연결을 보여 주는 아키텍처 이미지입니다. 활성 데이터는 ONTAP 클러스터에 있고 비활성 데이터는 오브젝트 스토리지에 상주합니다."]

상위 레벨에서 Cloud Tiering은 다음과 같이 작동합니다.

. Cloud Manager에서 온프레미스 클러스터를 검색할 수 있습니다.
. 버킷/컨테이너, 스토리지 클래스 또는 액세스 계층, 계층형 데이터에 대한 라이프사이클 규칙 등 오브젝트 스토리지에 대한 세부 정보를 제공하여 계층화를 설정합니다.
. Cloud Manager는 오브젝트 스토리지 공급자를 사용하도록 ONTAP을 구성하고 클러스터에서 활성 데이터와 비활성 데이터의 양을 검색합니다.
. 계층화할 볼륨과 해당 볼륨에 적용할 계층화 정책을 선택합니다.
. ONTAP는 비활성 데이터가 비활성 상태로 간주되기 위한 임계값에 도달하는 즉시 비활성 데이터를 오브젝트 저장소로 계층화하기 시작합니다( 참조) <<Volume tiering policies>>)를 클릭합니다.
. 계층 데이터에 수명 주기 규칙을 적용한 경우(일부 공급자에서만 사용 가능), 특정 기간 동안 오래된 계층화된 데이터는 보다 비용 효율적인 계층으로 이동됩니다.




=== 볼륨 계층화 정책

계층화할 볼륨을 선택할 때 각 볼륨에 적용할 _ 볼륨 계층화 정책 _ 을(를) 선택합니다. 계층화 정책은 볼륨의 사용자 데이터 블록을 클라우드로 이동할 시기 또는 시기를 결정합니다.

또한 * 냉각 기간 * 을 조정할 수 있습니다. 볼륨의 사용자 데이터가 "콜드" 상태로 간주되어 오브젝트 스토리지로 이동되기 전에 비활성 상태로 유지해야 하는 일 수입니다. 냉각 기간을 조정할 수 있는 계층화 정책의 경우 ONTAP 9.8 이상을 사용할 경우 2 ~ 183일, 이전 ONTAP 버전의 경우 2 ~ 63일, 권장 모범 사례는 2 ~ 63일입니다.

정책 없음(없음):: 성능 계층의 볼륨에 데이터를 유지하여 클라우드 계층으로 이동하는 것을 방지합니다.
콜드 스냅샷(스냅샷만):: ONTAP는 활성 파일 시스템과 공유되지 않는 볼륨의 콜드 스냅샷 블록을 오브젝트 스토리지로 계층화합니다. 읽으면 클라우드 계층의 콜드 데이터 블록이 핫 상태가 되고 성능 계층으로 이동합니다.
+
--
데이터는 Aggregate가 50% 용량에 도달하고 데이터가 냉각 기간에 도달한 후에만 계층화되어 있습니다. 기본 냉각 일 수는 2이지만 이 수를 조정할 수 있습니다.


NOTE: 다시 가열된 데이터는 공간이 있는 경우에만 성능 계층에 다시 기록됩니다. 성능 계층 용량이 70% 이상 차면 클라우드 계층에서 블록이 계속 액세스됩니다.

--
콜드 사용자 데이터 및 스냅샷(자동):: ONTAP는 메타데이터를 제외한 볼륨의 모든 콜드 블록을 오브젝트 스토리지에 계층화합니다. 콜드 데이터에는 스냅샷 복사본뿐만 아니라 액티브 파일 시스템의 콜드 사용자 데이터도 포함됩니다.
+
--
랜덤 읽기로 읽는 경우 클라우드 계층의 콜드 데이터 블록이 핫 상태가 되고 성능 계층으로 이동합니다. 인덱스 및 바이러스 백신 검사와 관련된 읽기 작업을 순차적으로 수행하면 클라우드 계층의 콜드 데이터 블록이 성능 계층에 기록되지 않고 차가운 상태를 유지합니다. 이 정책은 ONTAP 9.4부터 사용할 수 있습니다.

데이터는 Aggregate가 50% 용량에 도달하고 데이터가 냉각 기간에 도달한 후에만 계층화되어 있습니다. 기본 냉각 일 수는 31이지만 이 수를 조정할 수 있습니다.


NOTE: 다시 가열된 데이터는 공간이 있는 경우에만 성능 계층에 다시 기록됩니다. 성능 계층 용량이 70% 이상 차면 클라우드 계층에서 블록이 계속 액세스됩니다.

--
모든 사용자 데이터(모두):: 모든 데이터(메타데이터 제외)는 즉시 오브젝트 스토리지에 대해 콜드 및 계층화되도록 빨리 표시됩니다. 볼륨의 새 블록이 냉각될 때까지 48시간 동안 기다릴 필요가 없습니다. 모든 정책을 설정하기 전에 볼륨에 있는 블록이 콜드 상태가 되려면 48시간이 걸립니다.
+
--
읽으면 클라우드 계층의 콜드 데이터 블록이 콜드 상태를 유지하고 성능 계층에 다시 기록되지 않습니다. 이 정책은 ONTAP 9.6부터 사용할 수 있습니다.

이 계층화 정책을 선택하기 전에 다음 사항을 고려하십시오.

* 데이터를 계층화하면 스토리지 효율성이 즉시 낮아집니다(인라인만 해당).
* 볼륨의 콜드 데이터가 변경되지 않을 것으로 확신하는 경우에만 이 정책을 사용해야 합니다.
* 오브젝트 스토리지는 트랜잭션이 아니므로 변경이 발생할 경우 상당한 조각화가 발생합니다.
* 데이터 보호 관계의 소스 볼륨에 모든 계층화 정책을 할당하기 전에 SnapMirror 전송이 미치는 영향을 고려하십시오.
+
데이터는 즉시 계층화되므로 SnapMirror는 성능 계층이 아닌 클라우드 계층에서 데이터를 읽습니다. 이로 인해 SnapMirror 작업 속도가 느려지며, 다른 계층화 정책을 사용하는 경우에도 나중에 다른 SnapMirror 작업이 느려집니다.

* 마찬가지로, Cloud Backup은 계층화 정책을 통해 설정된 볼륨의 영향을 받습니다. https://docs.netapp.com/us-en/cloud-manager-backup-restore/concept-ontap-backup-to-cloud.html#fabricpool-tiering-policy-considerations["Cloud Backup을 사용한 계층화 정책 고려 사항 을 참조하십시오"^].


--
모든 DP 사용자 데이터(백업):: 데이터 보호 볼륨의 모든 데이터(메타데이터 제외)가 즉시 클라우드 계층으로 이동됩니다. 읽는 경우 클라우드 계층의 콜드 데이터 블록이 콜드 상태를 유지하고 성능 계층에 다시 기록되지 않습니다(ONTAP 9.4부터 시작).
+
--

NOTE: 이 정책은 ONTAP 9.5 이전 버전에 사용할 수 있습니다. ONTAP 9.6부터 * All * 계층화 정책으로 대체되었습니다.

--

